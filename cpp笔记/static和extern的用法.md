### static和extern的用法





#### static的多种用法

在C++中static有多种用法，这些用法之间好像并没有关系。可能是为了避免在语言中引入新的关键字。



##### 一、在类中，声明静态数据成员和静态方法

静态的数据成员和方法都不是对象的一部分，存在于类层次。



##### 二、声明静态链接(名称仅在当前源文件中能访问)

首先要说的是，静态链接也称为内部链接。C++源文件中的每个名称，包括函数和全局变量都有一个内部或者外部的链接。外部链接意味着在其他源文件中也有效，内部链接则无效。



##### 三、函数中的静态变量

创建离开和进入作用域都可以保留值的局部变量。函数中的静态变量就像是一个只能再函数内部访问的全局变量。









#### extern的用法

对比static用于声明静态链接的情形，extern关键字好像是static的反义词，将它后面的名称指定为外部链接。这里需要注意的是，使用extern指定某个名称的时候，编译器会将这个语句视作声明，而不是定义。你必须为这个变量提供单独的定义行，否则编译器不会为这个变量分配空间。在另一个文件中，因为你使用extern将变量声明为外部链接，因此可以使用，但是又必须使用extern声明一下这个变量，因为未声明的变量不能使用(如果声明时未使用extern，编译器会认定为是定义，就会导致有两个定义，链接会出错)。

